var imageList = [
  {
      "id": 3611993,
      "obfuscated_id": "1802e636e60494135fb61b8f53fe2a22",
      "user_id": 1316,
      "title": "Imagination #3611993",
      "prompt": "a high-quality, detailed, and professional, view of forest in autumn, detailed cinematic lighting , micro detailed, c4d archviz render,Trees, falling leaves",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_cinematography_micro_detailed_vr_highquality_detailed__19e76c1f3d5df6d3__3611993_19e76c1f3d5.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_cinematography_micro_detailed_vr_highquality_detailed__19e76c1f3d5df6d3__3611993_19e76c1f3d5.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_cinematography_micro_detailed_vr_highquality_detailed__19e76c1f3d5df6d3__3611993_19e76c1f3d5.jpg?ver=1",
      "created_at": "2023-05-13T19:10:25+00:00",
      "updated_at": "2023-05-13T19:10:46+00:00",
      "error_message": null,
      "pusher_channel": "status_update_1802e636e60494135fb61b8f53fe2a22",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 9,
      "skybox_id": 9,
      "skybox_style_name": "Realistic",
      "skybox_name": "Realistic",
      "dispatched_at": "2023-05-13T19:10:25+00:00",
      "processing_at": "2023-05-13T19:10:27+00:00",
      "completed_at": "2023-05-13T19:10:46+00:00"
  },
  {
      "id": 3611659,
      "obfuscated_id": "6b64e399d3704b8beb2507c358d93590",
      "user_id": 1316,
      "title": "Imagination #3611659",
      "prompt": "Pirate themed islands, fine detail, high detail, islands, ships, birds, VR360",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 2,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_pirate_themed_islands_fine_detail_high_detail_islands_ships_birds__22e659510c7aa1ea__3611659_.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_pirate_themed_islands_fine_detail_high_detail_islands_ships_birds__22e659510c7aa1ea__3611659_.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_pirate_themed_islands_fine_detail_high_detail_islands_ships_birds__22e659510c7aa1ea__3611659_.jpg?ver=1",
      "created_at": "2023-05-13T19:00:43+00:00",
      "updated_at": "2023-05-13T19:02:05+00:00",
      "error_message": null,
      "pusher_channel": "status_update_6b64e399d3704b8beb2507c358d93590",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-13T19:01:46+00:00",
      "processing_at": "2023-05-13T19:01:48+00:00",
      "completed_at": "2023-05-13T19:02:05+00:00"
  },
  {
      "id": 3611654,
      "obfuscated_id": "f98fabe58946c08e9a9fc889a357aaed",
      "user_id": 1316,
      "title": "Imagination #3611654",
      "prompt": "Pirate themed islands, fine detail, high detail, islands, ships, birds",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/beautiful_vr_anime_illustration_view_pirate_themed_islands_fine__498743bd5d704b80__3611654_4987.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_beautiful_vr_anime_illustration_view_pirate_themed_islands_fine__498743bd5d704b80__3611654_4987.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/beautiful_vr_anime_illustration_view_pirate_themed_islands_fine__498743bd5d704b80__3611654_4987.jpg?ver=1",
      "created_at": "2023-05-13T19:00:27+00:00",
      "updated_at": "2023-05-13T19:01:45+00:00",
      "error_message": null,
      "pusher_channel": "status_update_f98fabe58946c08e9a9fc889a357aaed",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 3,
      "skybox_id": 3,
      "skybox_style_name": "Anime Art Style",
      "skybox_name": "Anime Art Style",
      "dispatched_at": "2023-05-13T19:01:26+00:00",
      "processing_at": "2023-05-13T19:01:28+00:00",
      "completed_at": "2023-05-13T19:01:45+00:00"
  },
  {
      "id": 3611649,
      "obfuscated_id": "604e8a5805019ce0a17aea897f93a07a",
      "user_id": 1316,
      "title": "Imagination #3611649",
      "prompt": "Pirate themed islands, fine detail, high detail, islands, ships, birds",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vibrant_microdetailed_digital_art_detailed_digital_vr_painting__7337036fe9784560__3611649_73370.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vibrant_microdetailed_digital_art_detailed_digital_vr_painting__7337036fe9784560__3611649_73370.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vibrant_microdetailed_digital_art_detailed_digital_vr_painting__7337036fe9784560__3611649_73370.jpg?ver=1",
      "created_at": "2023-05-13T19:00:22+00:00",
      "updated_at": "2023-05-13T19:01:26+00:00",
      "error_message": null,
      "pusher_channel": "status_update_604e8a5805019ce0a17aea897f93a07a",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 5,
      "skybox_id": 5,
      "skybox_style_name": "Digital Painting",
      "skybox_name": "Digital Painting",
      "dispatched_at": "2023-05-13T19:00:22+00:00",
      "processing_at": "2023-05-13T19:01:09+00:00",
      "completed_at": "2023-05-13T19:01:26+00:00"
  },
  {
      "id": 3611287,
      "obfuscated_id": "d3497f9be2899e199782fa8178b7f2b6",
      "user_id": 1316,
      "title": "Imagination #3611287",
      "prompt": "Pirate themed islands, fine detail, high detail, islands, ships, birds",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/high_quality_detailed_digital_painting_cd_vr_computer_render_fantasy__a1acb9e5fd792a4e__3611287_.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_high_quality_detailed_digital_painting_cd_vr_computer_render_fantasy__a1acb9e5fd792a4e__3611287_.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/high_quality_detailed_digital_painting_cd_vr_computer_render_fantasy__a1acb9e5fd792a4e__3611287_.jpg?ver=1",
      "created_at": "2023-05-13T18:50:49+00:00",
      "updated_at": "2023-05-13T18:51:14+00:00",
      "error_message": null,
      "pusher_channel": "status_update_d3497f9be2899e199782fa8178b7f2b6",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 2,
      "skybox_id": 2,
      "skybox_style_name": "Fantasy Lands",
      "skybox_name": "Fantasy Lands",
      "dispatched_at": "2023-05-13T18:50:50+00:00",
      "processing_at": "2023-05-13T18:50:53+00:00",
      "completed_at": "2023-05-13T18:51:14+00:00"
  },
  {
      "id": 3610643,
      "obfuscated_id": "9d6ee971ce784c148cd7aa5eabd495f1",
      "user_id": 1316,
      "title": "Imagination #3610643",
      "prompt": "Mountain summit view, snowy glaciers and frosty wind, mountain range",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_cinematography_micro_detailed_vr_mountain_summit_view_snowy__5c3ffcefee101813__3610643_5c3ff.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_cinematography_micro_detailed_vr_mountain_summit_view_snowy__5c3ffcefee101813__3610643_5c3ff.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_cinematography_micro_detailed_vr_mountain_summit_view_snowy__5c3ffcefee101813__3610643_5c3ff.jpg?ver=1",
      "created_at": "2023-05-13T18:32:20+00:00",
      "updated_at": "2023-05-13T18:32:42+00:00",
      "error_message": null,
      "pusher_channel": "status_update_9d6ee971ce784c148cd7aa5eabd495f1",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 9,
      "skybox_id": 9,
      "skybox_style_name": "Realistic",
      "skybox_name": "Realistic",
      "dispatched_at": "2023-05-13T18:32:20+00:00",
      "processing_at": "2023-05-13T18:32:21+00:00",
      "completed_at": "2023-05-13T18:32:42+00:00"
  },
  {
      "id": 3207959,
      "obfuscated_id": "ca43c626899fa373c0adadc4e27f00c9",
      "user_id": 1316,
      "title": "Imagination #3207959",
      "prompt": "Majestic mountains, tranquil lake, cinematic lighting, procreate VR360 digital painting, deviantart, artstation, VR360, vibrant micro-detailed digital art.",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vibrant_microdetailed_digital_art_detailed_digital_vr_painting__1a63dcf350fedb1d__3207959_1a63d.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vibrant_microdetailed_digital_art_detailed_digital_vr_painting__1a63dcf350fedb1d__3207959_1a63d.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vibrant_microdetailed_digital_art_detailed_digital_vr_painting__1a63dcf350fedb1d__3207959_1a63d.jpg?ver=1",
      "created_at": "2023-05-06T21:49:28+00:00",
      "updated_at": "2023-05-06T21:49:50+00:00",
      "error_message": null,
      "pusher_channel": "status_update_ca43c626899fa373c0adadc4e27f00c9",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 5,
      "skybox_id": 5,
      "skybox_style_name": "Digital Painting",
      "skybox_name": "Digital Painting",
      "dispatched_at": "2023-05-06T21:49:28+00:00",
      "processing_at": "2023-05-06T21:49:31+00:00",
      "completed_at": "2023-05-06T21:49:50+00:00"
  },
  {
      "id": 3203621,
      "obfuscated_id": "9bc86613260c195ade672e737a4351b4",
      "user_id": 1316,
      "title": "Imagination #3203621",
      "prompt": "a high-quality, detailed, and professional , VR360, view of forest in autumn, detailed digital painting,cinematic lighting , VR360, micro detailed 8k equirectangular panoramic, c4d archviz render, VR360, Trees, falling leaves",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_highquality_detailed_professional_vr_view_forest_autumn_detailed__0aa85f02d3a0ec26__3203621_.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_highquality_detailed_professional_vr_view_forest_autumn_detailed__0aa85f02d3a0ec26__3203621_.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_highquality_detailed_professional_vr_view_forest_autumn_detailed__0aa85f02d3a0ec26__3203621_.jpg?ver=1",
      "created_at": "2023-05-06T18:54:23+00:00",
      "updated_at": "2023-05-06T18:54:46+00:00",
      "error_message": null,
      "pusher_channel": "status_update_9bc86613260c195ade672e737a4351b4",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T18:54:24+00:00",
      "processing_at": "2023-05-06T18:54:26+00:00",
      "completed_at": "2023-05-06T18:54:46+00:00"
  },
  {
      "id": 3203527,
      "obfuscated_id": "e6e50ac66b897cfc54a94d3c022c7b13",
      "user_id": 1316,
      "title": "Imagination #3203527",
      "prompt": "a hyper realistic landscape of an enchanted forest with a waterfall, epic, golden mist, cinematic, high resolution, 8k, dramatic atmosphere, HDR",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 2,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_cinematography_micro_detailed_vr_hyper_realistic_landscape__ba816ecb98c78c83__3203527_ba816e.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_cinematography_micro_detailed_vr_hyper_realistic_landscape__ba816ecb98c78c83__3203527_ba816e.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_cinematography_micro_detailed_vr_hyper_realistic_landscape__ba816ecb98c78c83__3203527_ba816e.jpg?ver=1",
      "created_at": "2023-05-06T18:50:39+00:00",
      "updated_at": "2023-05-06T18:51:29+00:00",
      "error_message": null,
      "pusher_channel": "status_update_e6e50ac66b897cfc54a94d3c022c7b13",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 9,
      "skybox_id": 9,
      "skybox_style_name": "Realistic",
      "skybox_name": "Realistic",
      "dispatched_at": "2023-05-06T18:51:07+00:00",
      "processing_at": "2023-05-06T18:51:09+00:00",
      "completed_at": "2023-05-06T18:51:29+00:00"
  },
  {
      "id": 3203522,
      "obfuscated_id": "086b2cc2202aca495f8d4202907107b9",
      "user_id": 1316,
      "title": "Imagination #3203522",
      "prompt": "a hyper realistic landscape of an enchanted forest with a waterfall, epic, golden mist, cinematic, high resolution, 8k, dramatic atmosphere, HDR",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/highquality_detailed_vr_image_interior_view_hyper_realistic__97a42d2bcc05cf34__3203522_97a42d2b.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_highquality_detailed_vr_image_interior_view_hyper_realistic__97a42d2bcc05cf34__3203522_97a42d2b.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/highquality_detailed_vr_image_interior_view_hyper_realistic__97a42d2bcc05cf34__3203522_97a42d2b.jpg?ver=1",
      "created_at": "2023-05-06T18:50:32+00:00",
      "updated_at": "2023-05-06T18:51:06+00:00",
      "error_message": null,
      "pusher_channel": "status_update_086b2cc2202aca495f8d4202907107b9",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 15,
      "skybox_id": 15,
      "skybox_style_name": "Interior Views",
      "skybox_name": "Interior Views",
      "dispatched_at": "2023-05-06T18:50:44+00:00",
      "processing_at": "2023-05-06T18:50:46+00:00",
      "completed_at": "2023-05-06T18:51:06+00:00"
  },
  {
      "id": 3203518,
      "obfuscated_id": "e716051649d41ff3d74c5ca690273860",
      "user_id": 1316,
      "title": "Imagination #3203518",
      "prompt": "a hyper realistic landscape of an enchanted forest with a waterfall, epic, golden mist, cinematic, high resolution, 8k, dramatic atmosphere, HDR, VR",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_hyper_realistic_landscape_enchanted_forest_waterfall_epic_golden__fc4dc341b436f851__3203518_.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_hyper_realistic_landscape_enchanted_forest_waterfall_epic_golden__fc4dc341b436f851__3203518_.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_hyper_realistic_landscape_enchanted_forest_waterfall_epic_golden__fc4dc341b436f851__3203518_.jpg?ver=1",
      "created_at": "2023-05-06T18:50:23+00:00",
      "updated_at": "2023-05-06T18:50:44+00:00",
      "error_message": null,
      "pusher_channel": "status_update_e716051649d41ff3d74c5ca690273860",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T18:50:24+00:00",
      "processing_at": "2023-05-06T18:50:25+00:00",
      "completed_at": "2023-05-06T18:50:44+00:00"
  },
  {
      "id": 3203513,
      "obfuscated_id": "4262f867e38542e8ab2df7e5fcf1ddd9",
      "user_id": 1316,
      "title": "Imagination #3203513",
      "prompt": "a hyper realistic landscape of an enchanted forest with a waterfall, epic, golden mist, cinematic, high resolution, 8k, dramatic atmosphere",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/high_quality_detailed_digital_painting_cd_vr_computer_render_fantasy__091db1210bf77dc6__3203513_.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_high_quality_detailed_digital_painting_cd_vr_computer_render_fantasy__091db1210bf77dc6__3203513_.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/high_quality_detailed_digital_painting_cd_vr_computer_render_fantasy__091db1210bf77dc6__3203513_.jpg?ver=1",
      "created_at": "2023-05-06T18:50:01+00:00",
      "updated_at": "2023-05-06T18:50:20+00:00",
      "error_message": null,
      "pusher_channel": "status_update_4262f867e38542e8ab2df7e5fcf1ddd9",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 2,
      "skybox_id": 2,
      "skybox_style_name": "Fantasy Lands",
      "skybox_name": "Fantasy Lands",
      "dispatched_at": "2023-05-06T18:50:02+00:00",
      "processing_at": "2023-05-06T18:50:03+00:00",
      "completed_at": "2023-05-06T18:50:20+00:00"
  },
  {
      "id": 3203069,
      "obfuscated_id": "e906b280c146fe79f9cb3fb457b9cb63",
      "user_id": 1316,
      "title": "Imagination #3203069",
      "prompt": "desolate forest trail, wide depth of field, realistic mushrooms, real wood, sprouts, dew, overcast, cloudy, near a gentle stream, real butterfly, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, butterflies, flat lighting",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_desolate_forest_trail_wide_depth_field_realistic_mushrooms_real__cb61642a0fca9d19__3203069_c.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_desolate_forest_trail_wide_depth_field_realistic_mushrooms_real__cb61642a0fca9d19__3203069_c.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_desolate_forest_trail_wide_depth_field_realistic_mushrooms_real__cb61642a0fca9d19__3203069_c.jpg?ver=1",
      "created_at": "2023-05-06T18:29:42+00:00",
      "updated_at": "2023-05-06T18:30:04+00:00",
      "error_message": null,
      "pusher_channel": "status_update_e906b280c146fe79f9cb3fb457b9cb63",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T18:29:43+00:00",
      "processing_at": "2023-05-06T18:29:45+00:00",
      "completed_at": "2023-05-06T18:30:04+00:00"
  },
  {
      "id": 3201812,
      "obfuscated_id": "0e17e261a0ccc7b6d0e40d7d064e9f09",
      "user_id": 1316,
      "title": "Imagination #3201812",
      "prompt": "Cyberpunk forest trail, wide depth of field, realistic mushrooms, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, overcast, cloudy, clover, near a gentle stream, real buttefly, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, butterflies, flat lighting, Cyberpunk",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_cyberpunk_forest_trail_wide_depth_field_realistic_mushrooms_real__d4bd927c0f44607a__3201812_.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_cyberpunk_forest_trail_wide_depth_field_realistic_mushrooms_real__d4bd927c0f44607a__3201812_.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_cyberpunk_forest_trail_wide_depth_field_realistic_mushrooms_real__d4bd927c0f44607a__3201812_.jpg?ver=1",
      "created_at": "2023-05-06T17:42:31+00:00",
      "updated_at": "2023-05-06T17:42:52+00:00",
      "error_message": null,
      "pusher_channel": "status_update_0e17e261a0ccc7b6d0e40d7d064e9f09",
      "pusher_event": "status_update",
      "type": "skybox remix",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T17:42:31+00:00",
      "processing_at": "2023-05-06T17:42:32+00:00",
      "completed_at": "2023-05-06T17:42:52+00:00"
  },
  {
      "id": 3199286,
      "obfuscated_id": "c666f14c8f7b05812bc118ce4e9a5b45",
      "user_id": 1316,
      "title": "Imagination #3199286",
      "prompt": "Summer forest trail, wide depth of field, realistic mushrooms, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, overcast, cloudy, clover, near a gentle stream, real buttefly, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, butterflies, flat lighting",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__8ccdaf7027814806__3199286_8cc.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__8ccdaf7027814806__3199286_8cc.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__8ccdaf7027814806__3199286_8cc.jpg?ver=1",
      "created_at": "2023-05-06T16:06:36+00:00",
      "updated_at": "2023-05-06T16:06:57+00:00",
      "error_message": null,
      "pusher_channel": "status_update_c666f14c8f7b05812bc118ce4e9a5b45",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T16:06:36+00:00",
      "processing_at": "2023-05-06T16:06:38+00:00",
      "completed_at": "2023-05-06T16:06:57+00:00"
  },
  {
      "id": 3198995,
      "obfuscated_id": "587388ca511d853491b091111c458e31",
      "user_id": 1316,
      "title": "Imagination #3198995",
      "prompt": "Summer forest trail, wide depth of field, realistic mushrooms, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, clover, near a gentle stream, real buttefly, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, butterflies, flat lighting",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__9909cdaa76f22f12__3198995_990.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__9909cdaa76f22f12__3198995_990.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__9909cdaa76f22f12__3198995_990.jpg?ver=1",
      "created_at": "2023-05-06T15:56:50+00:00",
      "updated_at": "2023-05-06T15:57:18+00:00",
      "error_message": null,
      "pusher_channel": "status_update_587388ca511d853491b091111c458e31",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T15:56:50+00:00",
      "processing_at": "2023-05-06T15:56:52+00:00",
      "completed_at": "2023-05-06T15:57:18+00:00"
  },
  {
      "id": 3198962,
      "obfuscated_id": "2a71edcad37dbc1d83c087e435f21be6",
      "user_id": 1316,
      "title": "Imagination #3198962",
      "prompt": "Summer forest trail, wide depth of field, realistic mushrooms, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, clover, near a gentle stream, real buttefly, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, butterflies, flat lighting",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__015768d91d2b5136__3198962_015.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__015768d91d2b5136__3198962_015.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__015768d91d2b5136__3198962_015.jpg?ver=1",
      "created_at": "2023-05-06T15:56:03+00:00",
      "updated_at": "2023-05-06T15:56:22+00:00",
      "error_message": null,
      "pusher_channel": "status_update_2a71edcad37dbc1d83c087e435f21be6",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T15:56:03+00:00",
      "processing_at": "2023-05-06T15:56:04+00:00",
      "completed_at": "2023-05-06T15:56:22+00:00"
  },
  {
      "id": 3198919,
      "obfuscated_id": "f07abcc4ebe652ae5afed36d9fc0f05b",
      "user_id": 1316,
      "title": "Imagination #3198919",
      "prompt": "Summer forest trail, wide depth of field, realistic mushrooms, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, clover, near a gentle stream, real buttefly, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, butterflies, flat lighting",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__511a24fa24274d3f__3198919_511.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__511a24fa24274d3f__3198919_511.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__511a24fa24274d3f__3198919_511.jpg?ver=1",
      "created_at": "2023-05-06T15:54:40+00:00",
      "updated_at": "2023-05-06T15:55:01+00:00",
      "error_message": null,
      "pusher_channel": "status_update_f07abcc4ebe652ae5afed36d9fc0f05b",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T15:54:41+00:00",
      "processing_at": "2023-05-06T15:54:42+00:00",
      "completed_at": "2023-05-06T15:55:01+00:00"
  },
  {
      "id": 3198831,
      "obfuscated_id": "849503c3eb2ffcf435035f0160c0680a",
      "user_id": 1316,
      "title": "Imagination #3198831",
      "prompt": "Summer forest trail, wide depth of field, realistic mushrooms, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, clover, near a gentle stream, real buttefly, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, butterflies, flat lighting",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__eda5580f8a54b193__3198831_eda.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__eda5580f8a54b193__3198831_eda.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_summer_forest_trail_wide_depth_field_realistic_mushrooms_real__eda5580f8a54b193__3198831_eda.jpg?ver=1",
      "created_at": "2023-05-06T15:51:43+00:00",
      "updated_at": "2023-05-06T15:52:06+00:00",
      "error_message": null,
      "pusher_channel": "status_update_849503c3eb2ffcf435035f0160c0680a",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T15:51:44+00:00",
      "processing_at": "2023-05-06T15:51:46+00:00",
      "completed_at": "2023-05-06T15:52:06+00:00"
  },
  {
      "id": 3198659,
      "obfuscated_id": "22222e2b6553a2524e635dcf529d263f",
      "user_id": 1316,
      "title": "Imagination #3198659",
      "prompt": "Summer forest trail, wide depth of field, realistic moss, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, clover, near a gentle stream, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, butterflies, Golden hour",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_summer_forest_trail_wide_depth_field_realistic_moss_real_wood__a88318a107445f47__3198659_a88.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_summer_forest_trail_wide_depth_field_realistic_moss_real_wood__a88318a107445f47__3198659_a88.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_summer_forest_trail_wide_depth_field_realistic_moss_real_wood__a88318a107445f47__3198659_a88.jpg?ver=1",
      "created_at": "2023-05-06T15:47:04+00:00",
      "updated_at": "2023-05-06T15:48:12+00:00",
      "error_message": null,
      "pusher_channel": "status_update_22222e2b6553a2524e635dcf529d263f",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T15:47:05+00:00",
      "processing_at": "2023-05-06T15:47:52+00:00",
      "completed_at": "2023-05-06T15:48:12+00:00"
  },
  {
      "id": 3198617,
      "obfuscated_id": "3c8ca02fc09e84858a1a9475ced107b7",
      "user_id": 1316,
      "title": "Imagination #3198617",
      "prompt": "Summer forest trail, wide depth of field, realistic moss, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, clover, near a gentle stream, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, butterflies",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_summer_forest_trail_wide_depth_field_realistic_moss_real_wood__2dff5596cfa524e2__3198617_2df.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_summer_forest_trail_wide_depth_field_realistic_moss_real_wood__2dff5596cfa524e2__3198617_2df.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_summer_forest_trail_wide_depth_field_realistic_moss_real_wood__2dff5596cfa524e2__3198617_2df.jpg?ver=1",
      "created_at": "2023-05-06T15:45:58+00:00",
      "updated_at": "2023-05-06T15:46:20+00:00",
      "error_message": null,
      "pusher_channel": "status_update_3c8ca02fc09e84858a1a9475ced107b7",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T15:45:59+00:00",
      "processing_at": "2023-05-06T15:46:00+00:00",
      "completed_at": "2023-05-06T15:46:20+00:00"
  },
  {
      "id": 3198573,
      "obfuscated_id": "c83a302a1b1e5ebc3671451bc2204989",
      "user_id": 1316,
      "title": "Imagination #3198573",
      "prompt": "Winter forest trail, wide depth of field, realistic moss, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, clover, near a gentle stream, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees, snow",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_winter_forest_trail_wide_depth_field_realistic_moss_real_wood__c6343d9717f334f6__3198573_c63.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_winter_forest_trail_wide_depth_field_realistic_moss_real_wood__c6343d9717f334f6__3198573_c63.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_winter_forest_trail_wide_depth_field_realistic_moss_real_wood__c6343d9717f334f6__3198573_c63.jpg?ver=1",
      "created_at": "2023-05-06T15:44:44+00:00",
      "updated_at": "2023-05-06T15:45:07+00:00",
      "error_message": null,
      "pusher_channel": "status_update_c83a302a1b1e5ebc3671451bc2204989",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T15:44:45+00:00",
      "processing_at": "2023-05-06T15:44:47+00:00",
      "completed_at": "2023-05-06T15:45:07+00:00"
  },
  {
      "id": 3198477,
      "obfuscated_id": "a9823e3df64c3ddbee8e455782724c49",
      "user_id": 1316,
      "title": "Imagination #3198477",
      "prompt": "Winter forest trail, wide depth of field, realistic moss, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, clover, near a gentle stream, real plants, real rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR, trees",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_winter_forest_trail_wide_depth_field_realistic_moss_real_wood__3847ef0f3ea3d30a__3198477_384.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_winter_forest_trail_wide_depth_field_realistic_moss_real_wood__3847ef0f3ea3d30a__3198477_384.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_winter_forest_trail_wide_depth_field_realistic_moss_real_wood__3847ef0f3ea3d30a__3198477_384.jpg?ver=1",
      "created_at": "2023-05-06T15:42:21+00:00",
      "updated_at": "2023-05-06T15:42:44+00:00",
      "error_message": null,
      "pusher_channel": "status_update_a9823e3df64c3ddbee8e455782724c49",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T15:42:21+00:00",
      "processing_at": "2023-05-06T15:42:22+00:00",
      "completed_at": "2023-05-06T15:42:44+00:00"
  },
  {
      "id": 3198415,
      "obfuscated_id": "2efd8341c8d2bd50571d0bf0f5ea4c63",
      "user_id": 1316,
      "title": "Imagination #3198415",
      "prompt": "Winter forest trail, wide depth of field, realistic moss, real wood, Maple, Spruce, Pine, Oak, sprouts, dew, clover, near a gentle stream, real plants, real stones, rocks, forest debris, depth, contrast, textures, natural light, mushrooms, stumps sticks, beauty, nature, expert techniques, organic feel, three-dimensionality, intricate details, captivating, White Balance, HDR",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/vr_winter_forest_trail_wide_depth_field_realistic_moss_real_wood__ab26a247a1adbd6f__3198415_ab2.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_vr_winter_forest_trail_wide_depth_field_realistic_moss_real_wood__ab26a247a1adbd6f__3198415_ab2.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/vr_winter_forest_trail_wide_depth_field_realistic_moss_real_wood__ab26a247a1adbd6f__3198415_ab2.jpg?ver=1",
      "created_at": "2023-05-06T15:40:39+00:00",
      "updated_at": "2023-05-06T15:41:00+00:00",
      "error_message": null,
      "pusher_channel": "status_update_2efd8341c8d2bd50571d0bf0f5ea4c63",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 13,
      "skybox_id": 13,
      "skybox_style_name": "Advanced (no style)",
      "skybox_name": "Advanced (no style)",
      "dispatched_at": "2023-05-06T15:40:39+00:00",
      "processing_at": "2023-05-06T15:40:41+00:00",
      "completed_at": "2023-05-06T15:41:00+00:00"
  },
  {
      "id": 3014427,
      "obfuscated_id": "f2b8bb1939de9c6ca42c6cf6a90278c3",
      "user_id": 1316,
      "title": "Imagination #3014427",
      "prompt": "a hyper realistic landscape of an enchanted forest with a waterfall, epic, soft lights, warm lights, soft shadows, golden mist, cinematic, high resolution, 8k, dramatic atmosphere",
      "username": "jloe@ctlondon.com",
      "status": "complete",
      "queue_position": 1,
      "file_url": "https://blockade-platform-production.s3.amazonaws.com/images/imagine/high_quality_detailed_digital_painting_cd_vr_computer_render_fantasy__0cda3d6bdb9edf04__3014427_.jpg?ver=1",
      "thumb_url": "https://blockade-platform-production.s3.amazonaws.com/thumbs/imagine/thumb_high_quality_detailed_digital_painting_cd_vr_computer_render_fantasy__0cda3d6bdb9edf04__3014427_.jpg?ver=1",
      "depth_map_url": "https://blockade-platform-production.s3.amazonaws.com/depths/imagine/high_quality_detailed_digital_painting_cd_vr_computer_render_fantasy__0cda3d6bdb9edf04__3014427_.jpg?ver=1",
      "created_at": "2023-05-02T14:42:47+00:00",
      "updated_at": "2023-05-02T14:45:27+00:00",
      "error_message": null,
      "pusher_channel": "status_update_f2b8bb1939de9c6ca42c6cf6a90278c3",
      "pusher_event": "status_update",
      "type": "skybox",
      "skybox_style_id": 2,
      "skybox_id": 2,
      "skybox_style_name": "Fantasy Lands",
      "skybox_name": "Fantasy Lands",
      "dispatched_at": "2023-05-02T14:42:48+00:00",
      "processing_at": "2023-05-02T14:45:08+00:00",
      "completed_at": "2023-05-02T14:45:27+00:00"
  }
];

import loadTex from "./3DUI_depth.js";

let apiKey = ``;
// const container = document.getElementById("container");

function LoadHandlebarsTemplates() {
  const categories = Array.from(new Set(imageList.map((image) => image.type)));

  const c2 = categories.map((category) => {
    return {
      name: category.replace(' ', '-'),
      images: imageList
        .filter((image) => image.type === category)
        .map((image) => {
          return {
            title: image.title,
            src: image.file_url,
            thumbSrc: image.thumb_url,
            alt: image.prompt,
            details: {
              creator: `Created by ${image.username} on ${new Date(image.created_at).toLocaleDateString()}`,
              prompt: image.prompt,
              negativePrompt: image.negative_text,
              seed: image.id,
              depthSrc: image.depth_map_url,
              styleId: image.skybox_style_id,
              styleName: image.skybox_style_name
            },
          };
        }),
    };
  });

  const tabsTemplate = Handlebars.compile($("#tabs-template").html());
  const contentTemplate = Handlebars.compile($("#content-template").html());
  // const modalTemplate = Handlebars.compile($("#modal-template").html());

  $("#categoryTabs").html(tabsTemplate({ categories: c2 }));
  //   $("#categoryContent").html(contentTemplate({ categories }));

  //   const imageModal = new bootstrap.Modal(document.getElementById("imageModal"));

  //   $("#categoryTabs").html(tabsTemplate({ categories }));
  $("#categoryContent").html(
    contentTemplate({
      categories: c2,
    })
  );

  // Store the details data as a jQuery data attribute
  $("#categoryContent .image-card").each(function (index) {
    // if(index == 0 ){
    //   console.log("hello");
    //   // $(this).addClass("active");
    // }
    $(this).data("details", c2.flatMap((category) => category.images)[index].details);
  });


  const imageModal = new bootstrap.Modal(document.getElementById("imageModal"));
  // createViewport(createConfig(''))
  $("#categoryContent").on("click", ".card", function () {
    const src = $(this).find(".card-img-top").attr("full_res");
    const title = $(this).find(".card-title").text();
    const alt = $(this).find(".card-img-top").attr("alt");
    const details = $(this).data("details");

    $("#imageModalLabel").text(title);
    $("#imageModalImg").attr("src", src).attr("alt", alt);
    // $("#imageModalImg").attr("src", src).attr("alt", alt);
    $("#imageModalDetails .creator").text(details.creator);
    $("#imageModalDetails .prompt").text(details.prompt);
    $("#imageModalDetails .negative-prompt").text(details.negativePrompt);
    $("#imageModalDetails .seed").text(details.seed);
    $("#imageModalDetails .styleID").text(details.styleId);
    $("#imageModalDetails .styleName").text(details.styleName);
    $("#imageModalDetails .rgbUrl").text(src);
    $("#imageModalDetails .depthUrl").text(details.depthSrc);

    imageModal.show();

    loadTex(src, details.depthSrc);

    // createViewport2(createConfig(src, title));
  });

  // Close modal when clicking outside the modal or on the close button
  $("#imageModal").on("click", ".modal-dialog, .btn-close", function (e) {
    if (e.target !== this) return;
    // closeViewport();
    imageModal.hide();
  });

  console.log("#" + c2[0].name);
  $("#" + c2[0].name + "-tab").tab("show");
  // setTimeout( () => {$("#" + c2[0].name + "-tab").tab("show");} , 1000)
  
  // $('.nav-tabs a[href="#' + c2[0].name + "-tab" + '"]').trigger('click');
}

async function fetchImageList(params) {
  const response = await fetch(`https://backend.blockadelabs.com/api/v1/imagine/myRequests?${new URLSearchParams(params)}`, {
    headers: {
      "Content-Type": "application/json",
      // "Authorization": `Bearer ${apiKey}`
    },
  });

  if (!response.ok) {
    throw new Error(`API request failed with status ${response.status}`);
  }

  const data = await response.json();
  console.log(data.data);
  return data.data;
}

async function generateImage(request_details, params) {
  const generateImagineUrl = `https://backend.blockadelabs.com/api/v1/imagine/requests?${new URLSearchParams(params)}`;

  const response = await fetch(generateImagineUrl, request_details);
  if (!response.ok) {
    throw new Error(`API request failed with status ${response.status}`);
  }

  const data = await response.json();
  console.log(data);
  return data.data;
}

async function generateSkyboxRemix(formData, params) {
  const skyboxUrl = `https://backend.blockadelabs.com/api/v1/skybox?${new URLSearchParams(params)}`;

  const response = await fetch(skyboxUrl, formData)
    .then((response) => response.json())
    .then((data) => {
      console.log("Skybox Remix generated:", data);
    })
    .catch((error) => {
      console.error("Error generating Skybox Remix:", error);
    });
  console.log(response);
  return response;
}

$(document).ready(function () {
  LoadHandlebarsTemplates();

  $("#image-query-form").on("submit", async function (event) {
    console.log("t0");

    event.preventDefault();

    await SearchHistory();
  });
  // $("#image-query-form").dispatchEvent(new Event('submit', {
  //   cancelable: true
  // }))

  const generateSkyboxForm = document.getElementById("generate-skybox-form");
  generateSkyboxForm.addEventListener("submit", async function (event) {
    event.preventDefault();

    const formElements = event.target.elements;
    const formData = {
      // generator: formElements.generator.value,
      prompt: formElements["skybox-prompt"].value,
      negative_text: formElements["skybox-negative-text"].value,
      return_depth: formElements["skybox-depth"].value,
      // seed: formElements.seed.value,
      // animation_mode: formElements["animation-mode"].value,
      // webhook_url: formElements["webhook-url"].value,
      skybox_style_id: formElements["skybox-skybox-style"].value,

    };

    const remixID = formElements["skybox-remix-imagine-id"].value;
    if (remixID) {
      data.remix_imagine_id = remixID;
    }

    const queryStringData = {
      api_key: apiKey,
    };
    const requestOptions = {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(formData),
    };
    console.log(formData);
    let sky_response = generateSkyboxRemix(requestOptions, queryStringData);
    $('#gen-options').collapse('hide');

    // LoadHandlebarsTemplates();
    await SearchHistory();
  });

  if (false) {
    const generateImagineForm = document.getElementById("generate-imagine-form");

    generateImagineForm.addEventListener("submit", function (event) {
      event.preventDefault();

      const formElements = event.target.elements;
      const formData = {
        generator: formElements.generator.value,
        prompt: formElements.prompt.value,
        negative_text: formElements["negative-text"].value,
        // seed: formElements.seed.value,
        // animation_mode: formElements["animation-mode"].value,
        // webhook_url: formElements["webhook-url"].value,
        skybox_style_id: formElements["skybox-style"].value,
      };
      const queryStringData = {
        api_key: apiKey,
      };
      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify(formData),
      };

      let gen_response = generateImage(requestOptions, queryStringData);

      // const response = await axios.post(API_ENDPOINT, {
      //   api_key: API_KEY,
      //   prompt: prompt,
      //   remix_imagine_id: remixImagineId,
      //   skybox_style_id: skyboxStyleId,
      //   webhook_url: webhookUrl
      // });

      // const data = response.data;

      // console.log('Skybox Remix generated:', data);

      // console.log(gen_response);
    });
  }

  const apiKeyForm = document.getElementById("api-key-form");

  apiKeyForm.addEventListener("submit", function (event) {
    event.preventDefault();

    const formElements = event.target.elements;
    apiKey = formElements.api_key.value;
    console.log(apiKey);
    const skyboxStylesUrl = "https://backend.blockadelabs.com/api/v1/skybox/styles?api_key=" + apiKey;
    const skyboxStyleSelect = document.getElementById("skybox-style");
    const skyboxStyleSelect2 = document.getElementById("skybox-skybox-style");
    fetch(skyboxStylesUrl)
      .then((response) => response.json())
      .then((styles) => {
        styles.forEach((style) => {
          const option = document.createElement("option");
          option.value = style.id;
          option.text = style.name;
          skyboxStyleSelect.add(option);
          skyboxStyleSelect2.add(option);
        });

        const loadedAlert = document.getElementById("loaded_alert");
        loadedAlert.textContent = `Successfully Loaded Key`;
        loadedAlert.hidden = false;
        $('#SearchButton').trigger('click');

      }).catch((err) => {
        const loadedAlert = document.getElementById("loaded_alert");
        loadedAlert.textContent = `Error Loading Key`;
      });
  });
});

fetch("https://bootswatch.com/api/5.json")
  .then((response) => response.json())
  .then((data) => load(data));

async function SearchHistory() {
  let params = {
    //   status: $("#status").val(),
    limit: $("#limit").val(),
    api_key: apiKey,
    //   offset: $("#offset").val(),
    //   query: $("#query").val(),
    //   generator: $("#generator").val(),
  };

  try {
    console.log("t1");

    imageList = await fetchImageList(params);
    console.log("t2");
    LoadHandlebarsTemplates();
    console.log("t3");
    $('#search-options').collapse('hide');

    //   displayImages(imageList);
  } catch (error) {
    console.error("Error fetching image list:", error);
  }
}

function load(data) {
  const themes = data.themes;
  let select = document.querySelector("#css_select");

  themes.forEach((value, index) => {
    const option = document.createElement("option");
    option.value = index;
    option.textContent = value.name;

    select.append(option);
  });
  select.value = 2;

  select.addEventListener("change", (e) => {
    const theme = themes[e.target.value];
    document.querySelector("#theme").setAttribute("href", theme.css);
    document.querySelector(".alert h1").textContent = theme.name;
  });

  //   const changeEvent = new Event('change');
  //   select.dispatchEvent(changeEvent);
}
